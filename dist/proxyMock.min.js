!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios")):"function"==typeof define&&define.amd?define(["exports","axios"],t):t(e.proxyMock={},e.axios)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s={MOCK:!1,MOCK_APPEND:"/mock",DOMAIN:"",request:function(e){if(!e.method||!e.url)throw new Error("you start a wrong request!");return new Promise(function(n,o){t(r({},e)).then(function(e){200===e.status?n(e.data):o(e.statusText)}).catch(o)})}},i=new(function(){function e(t){n(this,e),this.options=Object.assign({},s,t),this.process=process||window.process}return o(e,[{key:"setOptions",value:function(e){Object.assign(this.options,e)}},{key:"combineRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mock,o=void 0===n?this.options.MOCK:n,r=t.mockAppend,s=void 0===r?this.options.MOCK_APPEND:r,i=t.append,u=void 0===i?this.options.DOMAIN:i;if(!e.url)throw new ReferenceError("request must has url property!");return e.url=(o&&this.process&&this.process.env&&"development"===this.process.env.NODE_ENV?s:u)+e.url,e}},{key:"request",value:function(e,t){t&&"function"==typeof t?t(e):this.options.request(e)}}]),e}()),u={setOptions:function(e){i.setOptions(e)},proxy:function(e,t,n){return i.request(i.combineRequest(e,t),n)}};e.proxyMock=u,Object.defineProperty(e,"__esModule",{value:!0})});
